- [標準API](#標準api)
- [コレクション（Collection）](#コレクションcollection)
  - [各クラスの意味](#各クラスの意味)
  - [主なクラス](#主なクラス)
  - [ArrayListの仕様](#arraylistの仕様)
  - [Setの仕様](#setの仕様)
- [文字列操作のクラス](#文字列操作のクラス)
  - [String](#string)
  - [StringBuffer](#stringbuffer)
  - [StringBuilder](#stringbuilder)
  - [Pythonでは](#pythonでは)
- [型](#型)
  - [プリミティブ型](#プリミティブ型)
    - [ボックス化（プリミティブ型をオブジェクトとして扱う）](#ボックス化プリミティブ型をオブジェクトとして扱う)

## メモリ管理
### JVMのメモリ構造
JVMによって確保されたメモリ領域は、さらに複数の領域に分割される。
画像: https://media.geeksforgeeks.org/wp-content/uploads/Memory.png

JVMはOSが保有するメモリの一部を借りる。

借りたメモリ空間は、以下のように分けて使う。
1. Javaヒープ
   1. Javaのプログラム内で使用されるオブジェクトや配列が格納されるメモリ空間です。
   2. 一般的に「ヒープ」と言う場合はJavaヒープを示す。
2. Cヒープ
   1. JVMがネイティブライブラリを実行する際に使用するメモリ空間です。
3. スレッドスタック
   1. JVMが持つスレッドの情報を格納します。

画像: https://media.geeksforgeeks.org/wp-content/uploads/Memory.png

上記を家に例えると、Javaヒープが建物で、それ以外は庭である。

地面：OS
建物：JVMの種類や選択したGCの種類で間取りが変わるJavaヒープ
庭：Cヒープやスレッドスタックなど、Javaヒープ以外で使われるメモリ空間
住人：アプリケーションやGCを実行するスレッド


### ヒープ(heap)
プログラムで利用するデータ領域の一種。
ヒープ（heap）とは「積み重なる」「堆積（たいせき）する」という意味。
プログラムの実行につれて動的に確保され、その領域が順次拡大するさまから、ヒープと呼ばれる。
ヒープは、プログラムで利用する動的なデータ領域を確保するために利用される。


### オブジェクト生成
オブジェクトを生成すると、JVMのヒープ中にオブジェクトが生成される。

## 標準API
よく使われる標準APIを以下にまとめる。

java.awt
    Graphics	すべてのグラフィックコンテキストの抽象基底クラス
java.awt.image
    BufferedImage	イメージデータを保持
java.io
    → このパッケージは、データ・ストリーム、直列化、ファイル・システムによるシステム入出力用に提供されています。
    BufferedInputStream
    BufferedReader	文字型入力ストリームから効率よくテキストを読み取る手段を提供
    BufferedWriter	文字型出力ストリームに効率よくテキストを書き込む手段を提供
    File	ファイルシステム情報を保持
    FileReader	テキストファイルからの読み取り手段を提供
java.lang
    ラッパクラス	基本データ型の操作に利用（Integer、Longなど）
    Math	指数関数、対数関数、三角関数などの基本的な演算処理
    Package	パッケージ名、仕様、バージョンに関する情報を保持
    String	文字列の加工・制御手段を提供する
    StringBuffer	可変長文字列の操作手段を提供する
    System	システム全般の制御、情報の取得手段を提供
java.sql
    CallableStatement	ストアドプロシージャを実行
    Connection	データベースとの接続を管理
    DatabaseMetaData	データベースの構成情報を保持
    PreparedStatement	準備済みSQL命令を実行
    ResultSet	データベースから抽出した結果セットを操作
    ResultSetMetaData	結果セットの構成情報を保持
    Statement	静的なSQL命令を実行
    DriverManager	JDBCドライバを管理
java.text
    DecimalFormat	10進数を整形する手段を提供
    SimpleDateFormat	日付型データを整形する手段を提供
java.util
    Calendar	標準的なカレンダーを提供
    Date	日付情報を保持、また操作する手段を提供
    ArrayList	サイズ変更可能な配列の実装
    HashMap	連想配列を実装
    Locale	ロケール（地域）情報を管理
    Scanner	入力ストリームをプリミティブ型またはString型に変換するテキストスキャナを提供
    ResourceBundle	リソース（プロパティ）ファイルの参照手段を提供
    StringTokenizer	文字列をトークンに分解
java.util.regex
    → 正規表現操作
    Matcher	正規表現マッチングを制御する
    Pattern	コンパイル済みの正規表現パターンを保持する
java.util.zip
    → zip操作
    ZipEntry	Zipエントリを表現
    ZipOutputStream	Zip形式で書き込みを行うための出力ストリーム

引用：https://kanda-it-school-kensyu.com/java-basic-intro-contents/jbi_ch10/jbi_1005/

## コレクション（Collection）
List, Set, Map

### 各クラスの意味
コレクション系のクラスに使われている Hash, Linked, Tree という接頭辞は、それぞれ特定の機能を表しています。
Hashは(ハッシュアルゴリズムによる) 検索機能、 Linkedは (リストアルゴリズムによる) 入力順序の保存機能、 Treeはソート機能 (並べ替え機能)です。

### 主なクラス
主なクラスは以下である。
1. List
   1. ArrayList ...サイズが自動的に拡張する配列。 配列のように、 同じ要素を重複して格納でき、 格納した順序で取り出せる ( 並び順が保存される)。
   2. LinkedList ...上記に加えて、 要素の挿入や削除の効率がよい
2. Set
   1. HashSet ...同じ要素を重複して格納できない。 要素の並び順は不定。
   2. LinkedHashSet ...重複不可で、格納した順番で取り出せる。
   3. TreeSet ...重複不可で、ソートした状態で取り出せる。
3. Map
   1. HashMap ...キーと値をペアで格納し、 キーで検索できる。 要素の並び順不定。
   2. LinkedHashMap ...検索でき、かつ格納した順番で取り出せる。
   3. TreeMap ...検索でき、かつキーでソートした状態で取り出せる

### ArrayListの仕様
初期化時の要素数は10個である。

### Setの仕様
Setはハッシュコードで要素を管理する。
ハッシュコードはランダムかつ一意な値となるため、Collection内な順番が保証されない。

## シリアライズ
Java のシリアル化は、オブジェクトの状態をバイトストリームに書き込むメカニズムです。
JPA,Hibernateなどで使用される。

## 文字列操作のクラス
文字列操作には、以下のクラスがある。
1. java.lang.String
2. java.lang.StringBuffer
3. java.lang.StringBuilder

操作の仕組みが異なり、実行速度も異なる。

### String
- 文字列は可変でない。
  - つまり、値を更新するたびに新しい変数を作成している。
- メモリの節約となる。
  - 他のクラスに比べ変更への準備のためのメモリ確保は不要。ただし、文字列操作をする際はメモリを浪費する。

### StringBuffer
- 文字列は可変。配列のようになっている。
- マルチスレッドに対応している。スレッドセーフである。
- 速い。

### StringBuilder
- 文字列は可変。配列のようになっている。
- 単一のスレッドで動作する。
- 最も速い。

### Pythonでは
Stringがimmutableであるという原因から、同様に、Pythonではjoin()が使われる。

1. 配列に文字列を格納
2. join()で結合
という流れである。

## 型
### プリミティブ型
#### ボックス化（プリミティブ型をオブジェクトとして扱う）
プリミティブ型の値をオブジェクトとして扱うために、Javaではラッパークラスが用意されている。
Java5からオートボクシングという機能が追加され、この互換が自動的に行われるようになった。

boxing（ボックス化）とは、プリミティブ型をオブジェクト型に変換することを指す。
https://ja.wikipedia.org/wiki/%E3%83%9C%E3%83%83%E3%82%AF%E3%82%B9%E5%8C%96

## エラー・例外
### Javaにおける例外クラス
Throwableを継承する。
Exceptionクラスと、Errorクラスに大別される。
Exceptionクラスはプログラム内でキャッチされ、処理される例外を実装する。
Errorはランタイム環境(JRE)自体に関するエラーを示す。

### 例外の発生手順
1)
ランタイム システムはコール スタックを検索して、発生した例外を処理できるコード ブロックを含むメソッドを見つけます。 コードのブロックは例外ハンドラーと呼ばれます。

2)
ランタイム システムは、例外が発生したメソッドから検索を開始し、メソッドが呼び出された逆の順序でコール スタックを処理します。

3)
適切なハンドラーが見つかった場合は、発生した例外をそのハンドラーに渡します。 適切なハンドラーとは、スローされる例外オブジェクトのタイプが、処理できる例外オブジェクトのタイプと一致することを意味します。

4)
ランタイム システムがコール スタック上のすべてのメソッドを検索し、適切なハンドラーが見つからなかった場合、ランタイム システムは例外オブジェクトをランタイム システムの一部であるデフォルトの例外ハンドラーに引き渡します。 このハンドラは、次の形式で例外情報を出力し、プログラムを異常終了します。

